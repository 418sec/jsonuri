/*!
 * JsonUri.js v1.3.0
 * (c) 2016 Linkjun <pk.link@163.com> https://jsonuri.com
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.JsonUri=e.JsonUri||{})}(this,function(e){"use strict";function n(){}function r(e){return Number.isInteger(e)}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,n){return Object.keys(e).forEach(function(r){n(e[r],r,e)}),e}function f(e,n,r){if(r>=e.length)for(var t=r-e.length;t--+1;)e.push(void 0);return e.splice(r,0,e.splice(n,1)[0]),e}function l(){function e(n){return o(n,function(n,r,o){t(n,r,o),n instanceof Object&&(e(n),i(n,r,o))}),n}var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],i=arguments.length<=2||void 0===arguments[2]?n:arguments[2];return e(r)}function u(e){for(;~e.indexOf("");){var n=e.indexOf("");e.splice(n,1)}for(;~e.indexOf(".");){var n=e.indexOf(".");e.splice(n,1)}for(;~e.indexOf("~");)e=[];for(;~e.indexOf("...");){var n=e.indexOf("...");if(n-2<=0)return e=[];e[n]=e[n-1]=e[n-2]=null,delete e[n],delete e[n-1],delete e[n-2],e.splice(n,1),e.splice(n-1,1),e.splice(n-2,1)}for(;~e.indexOf("..");){var n=e.indexOf("..");e[n]=e[n-1]=null,delete e[n],delete e[n-1],e.splice(n,1),e.splice(n-1,1)}return e}function c(e,n){return h(e,n)}function a(e,n,r){return h(e,n,r),e}function s(e,n){var r=h(e,n);return h(e,n,null),r}function d(e,n,r){var t=h(e,n),i=h(e,r);return h(e,n,i),h(e,r,t),e}function v(e,n,r,t){var o=h(e,n+"/../"),l=h(e,r+"/../"),u="before"===t?-1:0;if(o!=l)return void console.error(n+" , "+r+" not in the same Array.");if(!i(o))return void console.error("target parent not Array.");var c=h(e,n),a=h(e,r),s=o.indexOf(c),d=o.indexOf(a);u+=d,u>=o.length&&(u=o.length),u<=0&&(u=0),o=f(o,s,u)}function p(e,n,r){var t=c(e,n),o=c(e,n+"/../"),f=o.indexOf(t),r=r||1;if(i(o)){f=f-r>=0?f-r:0;var l=n,u=n+("/../"+f+"/");console.log(e,l,u),v(e,l,u,"before")}}function g(e,n,r){var t=c(e,n),o=c(e,n+"/../"),f=o.indexOf(t),r=r||1;if(!i(o))return!1;f=f+r>=o.length-1?o.length-1:f+r;var l=n,u=n+("/../"+f+"/");console.log(l,u),v(e,l,u,"after")}function O(e,n,t){var o=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],f=c(e,n+"/../"),l=n.split("/").filter(function(e){return e}).slice(-1)[0]-0;if(!r(l))return void console.error(n+"\u4e0d\u662f\u6570\u5b57");if(!i(f))return void console.error(n+"\u4e0d\u662f\u6570\u7ec4");var u="after"===o,a=u?l+1:l;return a=b(f.length,a),a=x(0,a),f.splice(a,0,t),e}function h(e,n,r){if(e instanceof Object){if(!n)return e;for(var o=u(String(n).split("/")),f=e,l=0;l<o.length;l++)if(o[l]){if(l===o.length-1)void 0!=r?f[o[l]]=r:null===r&&(t(f)&&(f[o[l]]=null,delete f[o[l]]),i(f)&&(f[o[l]]=null,f.splice(o[l],1)));else if(r){var c=o[l+1];if(!f[o[l]]){var a=0*c===0?"Array":"Object";"Array"===a?f[o[l]]=[]:"Object"===a&&(f[o[l]]={})}}else{if(void 0===f[o[l]])return;if(null===f[o[l]])return null}f=f[o[l]]}return f}}var x=Math.max,b=Math.min;e.get=c,e.set=a,e.swap=d,e.mv=v,e.up=p,e.down=g,e.rm=s,e.insert=O,e.walk=l});
//# sourceMappingURL=jsonuri.min.js.map