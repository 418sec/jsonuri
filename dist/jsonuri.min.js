/*!
 * JsonUri.js v1.3.0
 * (c) 2016 Linkjun <pk.link@163.com> https://jsonuri.com
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.JsonUri=e.JsonUri||{})}(this,function(e){"use strict";function n(){}function r(e){return Number.isInteger(e)}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,n){return Object.keys(e).forEach(function(r){n(e[r],r,e)}),e}function f(e,n,r){if(r>=e.length)for(var t=r-e.length;t--+1;)e.push(void 0);return e.splice(r,0,e.splice(n,1)[0]),e}function u(){function e(e){return"/"+e.join("/")+"/"}function r(n){return o(n,function(n,t,o){u.push(t),i(n,t,o,e(u)),n instanceof Object&&(r(n),u.pop(),f(n,t,o,e(u)))}),n}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?n:arguments[1],f=arguments.length<=2||void 0===arguments[2]?n:arguments[2],u=[];return r(t)}function l(e){for(;~e.indexOf("");){var n=e.indexOf("");e.splice(n,1)}for(;~e.indexOf(".");){var n=e.indexOf(".");e.splice(n,1)}for(;~e.indexOf("~");)e=[];for(;~e.indexOf("...");){var n=e.indexOf("...");if(n-2<=0)return e=[];e[n]=e[n-1]=e[n-2]=null,delete e[n],delete e[n-1],delete e[n-2],e.splice(n,1),e.splice(n-1,1),e.splice(n-2,1)}for(;~e.indexOf("..");){var n=e.indexOf("..");e[n]=e[n-1]=null,delete e[n],delete e[n-1],e.splice(n,1),e.splice(n-1,1)}return e}function c(e,n){return g(e,n)}function a(e,n,r){return g(e,n,r),e}function d(e,n){var r=g(e,n);return g(e,n,null),r}function s(e,n,r){var t=g(e,n),i=g(e,r);return g(e,n,i),g(e,r,t),e}function v(e,n,r,t){var o=g(e,n+"/../"),u=g(e,r+"/../"),l="before"===t?-1:0;if(o!=u)return void console.error(n+" , "+r+" not in the same Array.");if(!i(o))return void console.error("target parent not Array.");var c=g(e,n),a=g(e,r),d=o.indexOf(c),s=o.indexOf(a);l+=s,l>=o.length&&(l=o.length),l<=0&&(l=0),o=f(o,d,l)}function p(e,n,r){var t=c(e,n),o=c(e,n+"/../"),f=o.indexOf(t),r=r||1;if(i(o)){f=f-r>=0?f-r:0;var u=n,l=n+("/../"+f+"/");v(e,u,l,"before")}}function O(e,n,r){var t=c(e,n),o=c(e,n+"/../"),f=o.indexOf(t),r=r||1;if(!i(o))return!1;f=f+r>=o.length-1?o.length-1:f+r;var u=n,l=n+("/../"+f+"/");v(e,u,l,"after")}function h(e,n,t){var o=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],f=c(e,n+"/../"),u=n.split("/").filter(function(e){return e}).slice(-1)[0]-0;if(!r(u))return void console.error(n+"\u4e0d\u662f\u6570\u5b57");if(!i(f))return void console.error(n+"\u4e0d\u662f\u6570\u7ec4");var l="after"===o,a=l?u+1:u;return a=b(f.length,a),a=x(0,a),f.splice(a,0,t),e}function g(e,n,r){if(e instanceof Object){if(!n)return e;for(var o=l(String(n).split("/")),f=e,u=0;u<o.length;u++)if(o[u]){if(u===o.length-1)void 0!=r?f[o[u]]=r:null===r&&(t(f)&&(f[o[u]]=null,delete f[o[u]]),i(f)&&(f[o[u]]=null,f.splice(o[u],1)));else if(r){var c=o[u+1];if(!f[o[u]]){var a=0*c===0?"Array":"Object";"Array"===a?f[o[u]]=[]:"Object"===a&&(f[o[u]]={})}}else{if(void 0===f[o[u]])return;if(null===f[o[u]])return null}f=f[o[u]]}return f}}var x=Math.max,b=Math.min;e.get=c,e.set=a,e.swap=s,e.mv=v,e.up=p,e.down=O,e.rm=d,e.insert=h,e.walk=u});
//# sourceMappingURL=jsonuri.min.js.map