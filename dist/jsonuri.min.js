/*!
 * JsonUri.js v1.5.2
 * (c) 2016 Linkjun <pk.link@163.com> https://jsonuri.com
 * Released under the MIT License.
 */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.JsonUri=n.JsonUri||{})}(this,function(n){"use strict";function e(){}function r(n){return Number.isInteger(n)}function t(n){return"[object Object]"===Object.prototype.toString.call(n)}function i(n){return"[object Array]"===Object.prototype.toString.call(n)}function o(n,e){return Object.keys(n).forEach(function(r){e(n[r],r,n)}),n}function f(n,e,r){if(r>=n.length)for(var t=r-n.length;t--+1;)n.push(void 0);return n.splice(r,0,n.splice(e,1)[0]),n}function u(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return e=b.concat.apply(b,e).join("/").split("/"),e=["/",c(e).join("/")].join(""),"/"!==e&&(e+="/"),e}function l(){function n(e){return o(e,function(e,r,o){f.push(r),t(e,r,o,{path:u(f)}),f.pop(),e instanceof Object&&(f.push(r),n(e),f.pop(),i(e,r,o,{path:u(f)}))}),e}var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?e:arguments[1],i=arguments.length<=2||void 0===arguments[2]?e:arguments[2],f=[];return n(r)}function c(n){for(;~n.indexOf("");){var e=n.indexOf("");n.splice(e,1)}for(;~n.indexOf(".");){var e=n.indexOf(".");n.splice(e,1)}for(;~n.indexOf("..");){var e=n.indexOf("..");n[e]=n[e-1]=null,delete n[e],delete n[e-1],n.splice(e,1),n.splice(e-1,1)}return n}function a(n,e){return y(n,e)}function s(n,e,r){return y(n,e,r),n}function p(n,e){var r=y(n,e);return y(n,e,null),r}function d(n,e,r){var t=y(n,e),i=y(n,r);return y(n,e,i),y(n,r,t),n}function v(n,e,r,t){var o=y(n,e+"/../"),u=y(n,r+"/../"),l="before"===t?-1:0;if(o!=u)return void console.error(e+" , "+r+" not in the same Array.");if(!i(o))return void console.error("target parent not Array.");var c=y(n,e),a=y(n,r),s=o.indexOf(c),p=o.indexOf(a);l+=p,l>=o.length&&(l=o.length),l<=0&&(l=0),o=f(o,s,l)}function h(n,e,r){var t=a(n,e),o=a(n,e+"/../"),f=o.indexOf(t),r=(r||1)-1;if(i(o)){f=f-r>=0?f-r:0;var u=e,l=e+("/../"+f+"/");v(n,u,l,"before")}}function g(n,e,r){var t=a(n,e),o=a(n,e+"/../"),f=o.indexOf(t),r=r||1;if(!i(o))return!1;f=f+r>=o.length-1?o.length-1:f+r;var u=e,l=e+("/../"+f+"/");v(n,u,l,"after")}function O(n,e,t){var o=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],f=a(n,e+"/../"),u=e.split("/").filter(function(n){return n}).slice(-1)[0]-0;if(!r(u))return void console.error(e+"\u4e0d\u662f\u6570\u5b57");if(!i(f))return void console.error(e+"\u4e0d\u662f\u6570\u7ec4");var l="after"===o,c=l?u+1:u;return c=x(f.length,c),c=j(0,c),f.splice(c,0,t),n}function y(n,e,r){if(n instanceof Object){if(!e)return n;for(var o=c(String(e).split("/")),f=n,u=0;u<o.length;u++)if(o[u]){if(u===o.length-1)void 0!=r?f[o[u]]=r:null===r&&(t(f)&&(f[o[u]]=null,delete f[o[u]]),i(f)&&(f[o[u]]=null,f.splice(o[u],1)));else if(r){var l=o[u+1];if(!f[o[u]]){var a=0*l===0?"Array":"Object";"Array"===a?f[o[u]]=[]:"Object"===a&&(f[o[u]]={})}}else{if(void 0===f[o[u]])return;if(null===f[o[u]])return null}f=f[o[u]]}return f}}var b=Array.prototype,j=Math.max,x=Math.min,m={get:a,set:s,rm:p,swap:d,mv:v,up:h,down:g,insert:O,walk:l,normalizePath:u};n["default"]=m,n.get=a,n.set=s,n.rm=p,n.swap=d,n.mv=v,n.up=h,n.down=g,n.insert=O,n.walk=l,n.normalizePath=u});
//# sourceMappingURL=jsonuri.min.js.map