/*!
 * JsonUri.js v1.6.0
 * (c) 2018 Linkjun <pk.link@163.com> https://jsonuri.com
 * Released under the MIT License.
 */
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(r.JsonUri=r.JsonUri||{})}(this,function(r){"use strict";function e(){}function n(r){return Number.isInteger(r)}function t(r){return"[object Object]"===Object.prototype.toString.call(r)}function i(r){return"[object Array]"===Object.prototype.toString.call(r)}function o(r,e){function n(){t=!0}for(var t=!1,i=Object.keys(r),o=Array.isArray(i),f=0,i=o?i:i[Symbol.iterator]();;){var u;if(o){if(f>=i.length)break;u=i[f++]}else{if(f=i.next(),f.done)break;u=f.value}var a=u;if(t)break;e(r[a],a,r,{_break:n})}}function f(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];return e=x.concat.apply(x,e).join("/").split("/"),e=["/",l(e).join("/")].join(""),"/"!==e&&(e+="/"),e}function u(r){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(!(r instanceof Object))return!1;e.push(r);for(var n in r){var t=r[n];if(t instanceof Object&&(~e.indexOf(t)||u(t,e.slice())))return!0}return!1}function a(){function r(e){return o(e,function(e,n,o,u){function l(){s(),v=!0,i(o)&&c.pop()}var s=u._break,v=!1;if(c.push(n),t(e,n,o,{path:f(c),_break:l}),c.pop(),e instanceof Object){if(c.push(n),v)return;r(e),c.pop(),a(e,n,o,{path:f(c),_break:l})}}),e}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?e:arguments[1],a=arguments.length<=2||void 0===arguments[2]?e:arguments[2];if(u(n))throw new Error("obj is a circular structure");var c=[];return r(n)}function c(r){return r.split("/").filter(function(r){return r}).slice(-1)[0]-0}function l(r){for(;~r.indexOf("");){var e=r.indexOf("");r.splice(e,1)}for(;~r.indexOf(".");){var e=r.indexOf(".");r.splice(e,1)}for(;~r.indexOf("..");){var n=r.indexOf("..");r[n]=r[n-1]=null,delete r[n],delete r[n-1],r.splice(n,1),r.splice(n-1,1)}return r}function s(r){return null==r?String(r):"object"==typeof r||"function"==typeof r?m[m.toString.call(r)]||"object":typeof r}function v(r,e,n){if(r instanceof Object){if(!e)return r;for(var o=l(String(e).split("/")),f=r,u=0;u<o.length;u++)if(o[u]){if(u===o.length-1)void 0!=n?f[o[u]]=n:null===n&&(t(f)&&(f[o[u]]=null,delete f[o[u]]),i(f)&&(f[o[u]]=null,f.splice(o[u],1)));else if(n){var a=o[u+1];if(!f[o[u]]){var c=0*a==0?"Array":"Object";"Array"===c?f[o[u]]=[]:"Object"===c&&(f[o[u]]={})}}else{if(void 0===f[o[u]])return;if(null===f[o[u]])return null}f=f[o[u]]}return f}}function p(r,e){return v(r,e)}function d(r,e,n){return v(r,e,n),r}function b(r,e){var n=v(r,e);return d(r,e,null),n}function h(r,e,n){var t=v(r,e);return d(r,e,v(r,n)),d(r,n,t),r}function g(r,e,n){var t=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],i=p(r,e+"/../"),o=p(r,n+"/../"),u=p(r,e),a=(p(r,n),c(e)),l=c(n);if("array"!==s(i))return void console.error(e+" \u8def\u5f84\u7684\u7236\u7ea7\u4e0d\u662f\u6570\u7ec4\u7c7b\u578b");if("array"!==s(o))return void console.error(n+" \u8def\u5f84\u7684\u7236\u7ea7\u4e0d\u662f\u6570\u7ec4\u7c7b\u578b");if(i!==o)return 0===f(n,"../").indexOf(f(e,"../"))?(O(r,n,u,t),void b(r,e)):(b(r,e),void O(r,n,u,t));if(a!==l){var v=l+="before"===t?-1:0;if(a!==v){if(v>a)return O(r,n,u,t),void b(r,e);b(r,e),O(r,n,u,t)}}}function y(r,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],t=p(r,e+"/../"),o=c(e),u=o-n,a=f(e,"/../"+u+"/");if(!i(t))return void console.error(e+" \u76ee\u6807\u5fc5\u987b\u4e3a\u6570\u7ec4\u7c7b\u578b");o<=0||o>=t.length||g(r,e,a,"before")}function j(r,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],t=p(r,e+"/../"),o=c(e),u=o+n,a=f(e,"/../"+u+"/");if(!i(t))return void console.error("\u64cd\u4f5c\u7684\u4e0d\u662f\u6570\u7ec4");o<0||o>=t.length||g(r,e,a,"after")}function O(r,e,t){var o=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],f=p(r,e+"/../"),u=e.split("/").filter(function(r){return r}).slice(-1)[0]-0;if(!n(u))return void console.error(e+" \u8def\u5f84\u672b\u5c3e\u5fc5\u987b\u4e3a\u6570\u5b57");if(!i(f))return void console.error(e+" \u8981\u63d2\u5165\u7684\u7236\u7ea7\u7c7b\u578b\u4e0d\u662f\u6570\u7ec4");var a="after"===o,c=a?u+1:u;return c=w(f.length,c),c=k(0,c),f.splice(c,0,t),r}var x=Array.prototype,m={};o(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(r,e){m["[object "+r+"]"]=r.toLowerCase()});var k=Math.max,w=Math.min,A={get:p,set:d,rm:b,swap:h,mv:g,up:y,down:j,insert:O,walk:a,normalizePath:f,isCircular:u};r.default=A,r.get=p,r.set=d,r.rm=b,r.swap=h,r.mv=g,r.up=y,r.down=j,r.insert=O,r.walk=a,r.normalizePath=f,r.isCircular=u});
//# sourceMappingURL=jsonuri.min.js.map