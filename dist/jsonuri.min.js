/*!
 * JsonUri.js v1.5.13
 * (c) 2016 Linkjun <pk.link@163.com> https://jsonuri.com
 * Released under the MIT License.
 */
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(r.JsonUri=r.JsonUri||{})}(this,function(r){"use strict";function e(){}function n(r){return Number.isInteger(r)}function t(r){return"[object Object]"===Object.prototype.toString.call(r)}function o(r){return"[object Array]"===Object.prototype.toString.call(r)}function i(r,e){function n(){t=!0}for(var t=!1,o=Object.keys(r),i=Array.isArray(o),f=0,o=i?o:o[Symbol.iterator]();;){var u;if(i){if(f>=o.length)break;u=o[f++]}else{if(f=o.next(),f.done)break;u=f.value}var l=u;if(t)break;e(r[l],l,r,{_break:n})}}function f(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];return e=O.concat.apply(O,e).join("/").split("/"),e=["/",a(e).join("/")].join(""),"/"!==e&&(e+="/"),e}function u(){function r(e){return i(e,function(e,n,i,a){function c(){v(),s=!0,o(i)&&l.pop()}var v=a._break,s=!1;if(e===i)return console.log("Circular-reference: "+f(l)),void v();if(l.push(n),t(e,n,i,{path:f(l),_break:c}),l.pop(),e instanceof Object){if(l.push(n),s)return;r(e),l.pop(),u(e,n,i,{path:f(l),_break:c})}}),e}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?e:arguments[1],u=arguments.length<=2||void 0===arguments[2]?e:arguments[2],l=[];return r(n)}function l(r){return r.split("/").filter(function(r){return r}).slice(-1)[0]-0}function a(r){for(;~r.indexOf("");){var e=r.indexOf("");r.splice(e,1)}for(;~r.indexOf(".");){var e=r.indexOf(".");r.splice(e,1)}for(;~r.indexOf("..");){var e=r.indexOf("..");r[e]=r[e-1]=null,delete r[e],delete r[e-1],r.splice(e,1),r.splice(e-1,1)}return r}function c(r){return null==r?String(r):"object"==typeof r||"function"==typeof r?m[m.toString.call(r)]||"object":typeof r}function v(r,e,n){if(r instanceof Object){if(!e)return r;for(var i=a(String(e).split("/")),f=r,u=0;u<i.length;u++)if(i[u]){if(u===i.length-1)void 0!=n?f[i[u]]=n:null===n&&(t(f)&&(f[i[u]]=null,delete f[i[u]]),o(f)&&(f[i[u]]=null,f.splice(i[u],1)));else if(n){var l=i[u+1];if(!f[i[u]]){var c=0*l===0?"Array":"Object";"Array"===c?f[i[u]]=[]:"Object"===c&&(f[i[u]]={})}}else{if(void 0===f[i[u]])return;if(null===f[i[u]])return null}f=f[i[u]]}return f}}function s(r,e){return v(r,e)}function d(r,e,n){return v(r,e,n),r}function p(r,e){var n=v(r,e);return d(r,e,null),n}function b(r,e,n){var t=v(r,e),o=v(r,n);return d(r,e,o),d(r,n,t),r}function g(r,e,n){var t=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],o=s(r,e+"/../"),i=s(r,n+"/../"),u=s(r,e),a=(s(r,n),l(e)),v=l(n);if("array"!==c(o))return void console.error(e+" \u8def\u5f84\u7684\u7236\u7ea7\u4e0d\u662f\u6570\u7ec4\u7c7b\u578b");if("array"!==c(i))return void console.error(n+" \u8def\u5f84\u7684\u7236\u7ea7\u4e0d\u662f\u6570\u7ec4\u7c7b\u578b");if(o!==i)return 0===f(n,"../").indexOf(f(e,"../"))?(j(r,n,u,t),void p(r,e)):(p(r,e),void j(r,n,u,t));if(a!==v){var d=v+="before"===t?-1:0;if(a!==d){if(d>a)return j(r,n,u,t),void p(r,e);p(r,e),j(r,n,u,t)}}}function h(r,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],t=s(r,e+"/../"),i=l(e),u=i-n,a=f(e,"/../"+u+"/");return o(t)?void(i<=0||i>=t.length||g(r,e,a,"before")):void console.error(e+" \u76ee\u6807\u5fc5\u987b\u4e3a\u6570\u7ec4\u7c7b\u578b")}function y(r,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],t=s(r,e+"/../"),i=l(e),u=i+n,a=f(e,"/../"+u+"/");return o(t)?void(i<0||i>=t.length||g(r,e,a,"after")):void console.error("\u64cd\u4f5c\u7684\u4e0d\u662f\u6570\u7ec4")}function j(r,e,t){var i=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],f=s(r,e+"/../"),u=e.split("/").filter(function(r){return r}).slice(-1)[0]-0;if(!n(u))return void console.error(e+" \u8def\u5f84\u672b\u5c3e\u5fc5\u987b\u4e3a\u6570\u5b57");if(!o(f))return void console.error(e+" \u8981\u63d2\u5165\u7684\u7236\u7ea7\u7c7b\u578b\u4e0d\u662f\u6570\u7ec4");var l="after"===i,a=l?u+1:u;return a=k(f.length,a),a=x(0,a),f.splice(a,0,t),r}var O=Array.prototype,m={};i(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(r,e){m["[object "+r+"]"]=r.toLowerCase()});var x=Math.max,k=Math.min,A={get:s,set:d,rm:p,swap:b,mv:g,up:h,down:y,insert:j,walk:u,normalizePath:f};r.default=A,r.get=s,r.set=d,r.rm=p,r.swap=b,r.mv=g,r.up=h,r.down=y,r.insert=j,r.walk=u,r.normalizePath=f});
//# sourceMappingURL=jsonuri.min.js.map