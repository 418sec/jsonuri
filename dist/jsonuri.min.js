/*!
 * JsonUri.js v1.5.5
 * (c) 2016 Linkjun <pk.link@163.com> https://jsonuri.com
 * Released under the MIT License.
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.JsonUri=e.JsonUri||{})}(this,function(e){"use strict";function r(){}function n(e){return Number.isInteger(e)}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,r){function n(){t=!0}for(var t=!1,i=Object.keys(e),o=Array.isArray(i),f=0,i=o?i:i[Symbol.iterator]();;){var u;if(o){if(f>=i.length)break;u=i[f++]}else{if(f=i.next(),f.done)break;u=f.value}var l=u;if(t)break;r(e[l],l,e,{_break:n})}}function f(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r=j.concat.apply(j,r).join("/").split("/"),r=["/",a(r).join("/")].join(""),"/"!==r&&(r+="/"),r}function u(){function e(r){return o(r,function(r,n,o,l){function a(){c(),s=!0}var c=l._break,s=!1;if(r===o)return console.log("Circular-reference: "+f(u)),void c();if(u.push(n),t(r,n,o,{path:f(u),_break:a}),u.pop(),r instanceof Object){if(u.push(n),s)return;e(r),u.pop(),i(r,n,o,{path:f(u),_break:a})}}),r}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],i=arguments.length<=2||void 0===arguments[2]?r:arguments[2],u=[];return e(n)}function l(e){return e.split("/").filter(function(e){return e}).slice(-1)[0]-0}function a(e){for(;~e.indexOf("");){var r=e.indexOf("");e.splice(r,1)}for(;~e.indexOf(".");){var r=e.indexOf(".");e.splice(r,1)}for(;~e.indexOf("..");){var r=e.indexOf("..");e[r]=e[r-1]=null,delete e[r],delete e[r-1],e.splice(r,1),e.splice(r-1,1)}return e}function c(e,r,n){if(e instanceof Object){if(!r)return e;for(var o=a(String(r).split("/")),f=e,u=0;u<o.length;u++)if(o[u]){if(u===o.length-1)void 0!=n?f[o[u]]=n:null===n&&(t(f)&&(f[o[u]]=null,delete f[o[u]]),i(f)&&(f[o[u]]=null,f.splice(o[u],1)));else if(n){var l=o[u+1];if(!f[o[u]]){var c=0*l===0?"Array":"Object";"Array"===c?f[o[u]]=[]:"Object"===c&&(f[o[u]]={})}}else{if(void 0===f[o[u]])return;if(null===f[o[u]])return null}f=f[o[u]]}return f}}function s(e,r){return c(e,r)}function v(e,r,n){return c(e,r,n),e}function d(e,r){var n=c(e,r);return v(e,r,null),n}function p(e,r,n){var t=c(e,r),i=c(e,n);return v(e,r,i),v(e,n,t),e}function h(e,r,n){var t=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],i=s(e,r+"/../"),o=s(e,n+"/../"),u=s(e,r),a=(s(e,n),l(r)),c=l(n);return i!==o?(y(e,n,u,t),void d(e,r)):void(a!==c&&(y(e,n,u,t),c+="before"===t?-1:0,c<a&&a++,r=f(r,"/../"+a),d(e,f(r,"/../"+a))))}function b(e,r){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],t=s(e,r+"/../"),o=l(r),u=o-n,a=f(r,"/../"+u+"/");return i(t)?void(o<=0||o>=t.length||h(e,r,a,"before")):void console.error("\u64cd\u4f5c\u7684\u4e0d\u662f\u6570\u7ec4")}function g(e,r){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],t=s(e,r+"/../"),o=l(r),u=o+n,a=f(r,"/../"+u+"/");return i(t)?void(o<0||o>=t.length||h(e,r,a,"after")):void console.error("\u64cd\u4f5c\u7684\u4e0d\u662f\u6570\u7ec4")}function y(e,r,t){var o=arguments.length<=3||void 0===arguments[3]?"after":arguments[3],f=s(e,r+"/../"),u=r.split("/").filter(function(e){return e}).slice(-1)[0]-0;if(!n(u))return void console.error(r+"\u4e0d\u662f\u6570\u5b57");if(!i(f))return void console.error(r+"\u4e0d\u662f\u6570\u7ec4");var l="after"===o,a=l?u+1:u;return a=m(f.length,a),a=O(0,a),f.splice(a,0,t),e}var j=Array.prototype,O=Math.max,m=Math.min,x={get:s,set:v,rm:d,swap:p,mv:h,up:b,down:g,insert:y,walk:u,normalizePath:f};e.default=x,e.get=s,e.set=v,e.rm=d,e.swap=p,e.mv=h,e.up=b,e.down=g,e.insert=y,e.walk=u,e.normalizePath=f});
//# sourceMappingURL=jsonuri.min.js.map