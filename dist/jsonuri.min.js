/*!
 * jsonuri v2.0.0
 * (c) 2016 Linkjun <pk.link@163.com>
 * Released under the MIT License.
 */
!function (e, n) {"object" == typeof exports && "undefined" != typeof module ? n(exports) : "function" == typeof define && define.amd ? define(["exports"], n) : n(e.safeTrim = e.safeTrim || {})}(this, function (e) {
  "use strict";
  function n() {}
  
  function t(e) {return Number.isInteger(e)}
  
  function r(e) {return "[object Object]" === Object.prototype.toString.call(e)}
  
  function i(e) {return "[object Array]" === Object.prototype.toString.call(e)}
  
  function o(e, n) {return Object.keys(e).forEach(function (t) {n(e[t], t, e)}), e}
  
  function f() {
    for (var e = arguments.length, n = Array(e), t = 0; t < e; t++)n[t] = arguments[t];
    return n = O.concat.apply(O, n).join("/").split("/"), n = ["/", c(n).join("/")].join(""), "/" !== n && (n += "/"), n
  }
  
  function u() {
    function e(n) {return o(n, function (n, t, o) {u.push(t), r(n, t, o, {path: f(u)}), u.pop(), n instanceof Object && (u.push(t), e(n), u.pop(), i(n, t, o, {path: f(u)}))}), n}
    
    var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], r = arguments.length <= 1 || void 0 === arguments[1] ? n : arguments[1], i = arguments.length <= 2 || void 0 === arguments[2] ? n : arguments[2], u = [];
    return e(t)
  }
  
  function l(e) {return e.split("/").filter(function (e) {return e}).slice(-1)[0] - 0}
  
  function c(e) {
    for (; ~e.indexOf("");) {
      var n = e.indexOf("");
      e.splice(n, 1)
    }
    for (; ~e.indexOf(".");) {
      var t = e.indexOf(".");
      e.splice(t, 1)
    }
    for (; ~e.indexOf("..");) {
      var r = e.indexOf("..");
      e[r] = e[r - 1] = null, delete e[r], delete e[r - 1], e.splice(r, 1), e.splice(r - 1, 1)
    }
    return e
  }
  
  function a(e, n, t) {
    if (e instanceof Object) {
      if (!n)return e;
      for (var o = c(String(n).split("/")), f = e, u = 0; u < o.length; u++)if (o[u]) {
        if (u === o.length - 1)void 0 !== t ? f[o[u]] = t : null === t && (r(f) && (f[o[u]] = null, delete f[o[u]]), i(f) && (f[o[u]] = null, f.splice(o[u], 1))); else if (t) {
          var l = o[u + 1];
          if (!f[o[u]]) {
            var a = 0 * l === 0 ? "Array" : "Object";
            "Array" === a ? f[o[u]] = [] : "Object" === a && (f[o[u]] = {})
          }
        } else {
          if (void 0 === f[o[u]])return;
          if (null === f[o[u]])return null
        }
        f = f[o[u]]
      }
      return f
    }
  }
  
  function s(e, n) {return a(e, n)}
  
  function d(e, n, t) {return a(e, n, t), e}
  
  function p(e, n) {
    var t = a(e, n);
    return d(e, n, null), t
  }
  
  function v(e, n, t) {
    var r = a(e, n), i = a(e, t);
    return d(e, n, i), d(e, t, r), e
  }
  
  function h(e, n, t) {
    var r = arguments.length <= 3 || void 0 === arguments[3] ? "after" : arguments[3], i = s(e, n + "/../"), o = s(e, t + "/../"), u = s(e, n), c = (s(e, t), l(n)), a = l(t);
    return i !== o ? (j(e, t, u, r), void p(e, n)) : void(c !== a && (j(e, t, u, r), a += "before" === r ? -1 : 0, a < c && c++, n = f(n, "/../" + c), p(e, f(n, "/../" + c))))
  }
  
  function g(e, n) {
    var t = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2], r = s(e, n + "/../"), o = l(n), u = o - t, c = f(n, "/../" + u + "/");
    return i(r) ? void(o <= 0 || o >= r.length || h(e, n, c, "before")) : void console.error("\u64cd\u4f5c\u7684\u4e0d\u662f\u6570\u7ec4")
  }
  
  function b(e, n) {
    var t = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2], r = s(e, n + "/../"), o = l(n), u = o + t, c = f(n, "/../" + u + "/");
    return i(r) ? void(o < 0 || o >= r.length || h(e, n, c, "after")) : void console.error("\u64cd\u4f5c\u7684\u4e0d\u662f\u6570\u7ec4")
  }
  
  function j(e, n, r) {
    var o = arguments.length <= 3 || void 0 === arguments[3] ? "after" : arguments[3], f = s(e, n + "/../"), u = n.split("/").filter(function (e) {return e}).slice(-1)[0] - 0;
    if (!t(u))return void console.error(n + "\u4e0d\u662f\u6570\u5b57");
    if (!i(f))return void console.error(n + "\u4e0d\u662f\u6570\u7ec4");
    var l = "after" === o, c = l ? u + 1 : u;
    return c = m(f.length, c), c = y(0, c), f.splice(c, 0, r), e
  }
  
  var O = Array.prototype, y = Math.max, m = Math.min, x = {
    get: s,
    set: d,
    rm: p,
    swap: v,
    mv: h,
    up: g,
    down: b,
    insert: j,
    walk: u,
    normalizePath: f
  };
  e.default = x, e.get = s, e.set = d, e.rm = p, e.swap = v, e.mv = h, e.up = g, e.down = b, e.insert = j, e.walk = u, e.normalizePath = f, Object.defineProperty(e, "__esModule", {value: !0})
});
//# sourceMappingURL=jsonuri.min.js.map
